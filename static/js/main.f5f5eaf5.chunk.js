(this.webpackJsonppetbook=this.webpackJsonppetbook||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(1),a=n.n(r),c=n(8),s=n.n(c),i=(n(14),n(2)),l=n(4),u=n(3),h=n(6),d=n(5),j={cat:{name:"Kitty Cat",bio:"I'm the coolest cat around. I'm the cat's meow!",profilePictureUrl:"https://content.codecademy.com/courses/React/react_lifecycle_cat_profile_picture.jpg",friends:["komodo"]},dog:{name:"Doggy Dog",bio:"I'm the doggity dog! Woof woof!",profilePictureUrl:"https://content.codecademy.com/courses/React/react_lifecycle_dog_profile_picture.jpg",friends:["komodo"]},komodo:{name:"Lizard Lady",bio:"I'm a Komodo dragon. You'll love me.",profilePictureUrl:"https://content.codecademy.com/courses/React/react_lifecycle_komodo_profile_picture.jpg",friends:["cat","dog"]}},m=new Map,b=function e(){Object(i.a)(this,e),Object.defineProperty(this,"_id",{value:Date.now()+Math.random().toString().substr(2)})};function f(e){if(e&&"object"===typeof e){var t=m.get(e._id);clearTimeout(t),m.delete(e._id)}}var p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).handleClick=o.handleClick.bind(Object(u.a)(o)),o}return Object(l.a)(n,[{key:"handleClick",value:function(e){this.props.onChoose(e.target.dataset.username)}},{key:"render",value:function(){var e=this;return Object(o.jsx)("ul",{children:this.props.usernames.map((function(t){return Object(o.jsx)("li",{children:Object(o.jsxs)("button",{"data-username":t,onClick:e.handleClick,children:["@",t]})},t)}))})}}]),n}(a.a.Component),O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).state={userData:null},o}return Object(l.a)(n,[{key:"loadUserData",value:function(){var e=this;this.setState({userData:null}),this.fetchID=function(e,t){if(!j.hasOwnProperty(e))throw new Error('Invalid username. Make sure it is "cat", "dog", or "komodo".');var n=new b,o=Math.floor(1e3*Math.random())+500,r=setTimeout((function(){m.delete(n._id),t(j[e])}),o);return m.set(n._id,r),n}(this.props.username,(function(t){e.setState({userData:t})}))}},{key:"componentDidMount",value:function(){this.loadUserData()}},{key:"componentWillUnmount",value:function(){f(this.fetchID)}},{key:"componentDidUpdate",value:function(e){this.props.username!==e.username&&(f(this.fetchID),this.loadUserData())}},{key:"render",value:function(){var e,t,n,r,a="Profile";return(e=null===this.state.userData)&&(a+=" loading"),t=!0===e?"Loading...":this.state.userData.name,n=!0===e?"Loading bio...":this.state.userData.bio,r=!0===e?[]:this.state.userData.friends,Object(o.jsxs)("div",{className:a,children:[Object(o.jsx)("div",{className:"profile-picture",children:!e&&Object(o.jsx)("img",{src:this.state.userData.profilePictureUrl,alt:""})}),Object(o.jsxs)("div",{className:"profile-body",children:[Object(o.jsx)("h2",{children:t}),Object(o.jsxs)("h3",{children:["@",this.props.username]}),Object(o.jsx)("p",{children:n}),Object(o.jsx)("h3",{children:"My friends"}),Object(o.jsx)(p,{usernames:r,onChoose:this.props.onChoose})]})]})}}]),n}(a.a.Component);function v(e){return Object(o.jsxs)("div",{className:"Directory",children:[Object(o.jsx)("h2",{children:"User directory"}),Object(o.jsx)(p,{usernames:["dog","cat","komodo"],onChoose:e.onChoose})]})}var y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).state={currentUsername:null},o.handleChoose=o.handleChoose.bind(Object(u.a)(o)),o.handleReturnToDirectoryClick=o.handleReturnToDirectoryClick.bind(Object(u.a)(o)),o}return Object(l.a)(n,[{key:"handleChoose",value:function(e){this.setState({currentUsername:e})}},{key:"handleReturnToDirectoryClick",value:function(){this.setState({currentUsername:null})}},{key:"render",value:function(){var e;return e=this.state.currentUsername?Object(o.jsx)(O,{username:this.state.currentUsername,onChoose:this.handleChoose}):Object(o.jsx)(v,{onChoose:this.handleChoose}),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{children:"PetBook"}),Object(o.jsx)("nav",{children:this.state.currentUsername&&Object(o.jsx)("button",{onClick:this.handleReturnToDirectoryClick,children:"Return to directory"})})]}),Object(o.jsx)("main",{children:e})]})}}]),n}(a.a.Component),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("app")),k()}},[[15,1,2]]]);
//# sourceMappingURL=main.f5f5eaf5.chunk.js.map